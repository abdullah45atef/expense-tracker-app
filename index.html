<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ØªØ·Ø¨ÙŠÙ‚ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ Ø§Ù„Ø´Ø®ØµÙŠ</title>
  <!-- Ø§Ø³ØªÙŠØ±Ø§Ø¯ Chart.js Ù„Ù„Ø£Ø´ÙƒØ§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ© -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
  <!-- Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø®Ø· Tajawal Ù…Ù† Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary-color: #3a86ff;
      --secondary-color: #8338ec;
      --success-color: #38b000;
      --danger-color: #ff006e;
      --dark-color: #212529;
      --light-color: #f8f9fa;
      --bg-light: #f5f5f5;
      --bg-dark: #121212;
      --transition-speed: 0.3s;
    }
    /* Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ§Øª */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Tajawal', sans-serif;
    }
    body {
      background-color: var(--bg-light);
      color: var(--dark-color);
      overflow-x: hidden;
      transition: background-color var(--transition-speed), color var(--transition-speed);
    }
    body.dark-mode {
      background-color: var(--bg-dark);
      color: #e0e0e0;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 0;
      margin-bottom: 30px;
      border-bottom: 1px solid #ddd;
      transition: border-color var(--transition-speed);
    }
    body.dark-mode header {
      border-color: #444;
    }
    .logo {
      font-size: 28px;
      font-weight: 700;
      color: var(--primary-color);
    }
    .user-info {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .user-avatar {
      width: 45px;
      height: 45px;
      border-radius: 50%;
      background-color: var(--secondary-color);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 20px;
      font-weight: bold;
    }
    .logout-btn, .dark-mode-btn {
      background: none;
      border: none;
      font-size: 18px;
      cursor: pointer;
      transition: color var(--transition-speed);
      margin-left: 10px;
    }
    body.dark-mode .logout-btn,
    body.dark-mode .dark-mode-btn {
      color: #e0e0e0;
    }
    /* ØªØ®Ø·ÙŠØ· Ø§Ù„ØµÙØ­Ø© */
    .dashboard {
      display: grid;
      grid-template-columns: 250px 1fr;
      gap: 20px;
    }
    /* ØªØ­Ø³ÙŠÙ† Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„ØªØ®Ø·ÙŠØ· */
    @media (max-width: 768px) {
      .dashboard {
        grid-template-columns: 1fr;
      }
    }
    .sidebar {
      background-color: white;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      transition: background-color var(--transition-speed);
    }
    body.dark-mode .sidebar {
      background-color: #1e1e1e;
    }
    .nav-item {
      padding: 12px 15px;
      border-radius: 8px;
      margin-bottom: 10px;
      cursor: pointer;
      transition: background var(--transition-speed), transform var(--transition-speed);
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .nav-item:hover, .nav-item.active {
      background-color: var(--light-color);
      color: var(--primary-color);
      transform: translateX(5px);
    }
    .nav-item.active {
      font-weight: bold;
      background-color: rgba(58,134,255,0.15);
    }
    .main-content {
      background-color: white;
      border-radius: 10px;
      padding: 25px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      transition: background-color var(--transition-speed);
    }
    body.dark-mode .main-content {
      background-color: #1e1e1e;
    }
    .page {
      display: none;
    }
    .page.active {
      display: block;
    }
    /* Ø¨Ø§Ù†Ø± Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù…Ù„Ø© */
    .add-transaction-banner {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: white;
      padding: 25px;
      text-align: center;
      border-radius: 10px;
      margin-bottom: 20px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    }
    .add-transaction-banner h2 {
      font-size: 22px;
      margin-bottom: 12px;
    }
    .add-transaction-banner button {
      padding: 12px 24px;
      border: none;
      border-radius: 5px;
      background-color: var(--secondary-color);
      color: white;
      cursor: pointer;
      font-weight: bold;
      transition: background var(--transition-speed);
    }
    .add-transaction-banner button:hover {
      background-color: #6b28c7;
    }
    /* Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù…Ù„Ø®Øµ */
    .summary-cards {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin-bottom: 30px;
    }
    @media (max-width: 576px) {
      .summary-cards {
        grid-template-columns: 1fr;
      }
    }
    .card {
      background-color: white;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      text-align: center;
      transition: transform var(--transition-speed);
    }
    .card:hover {
      transform: scale(1.03);
    }
    body.dark-mode .card {
      background-color: #2c2c2c;
    }
    .card-title {
      font-size: 14px;
      color: #777;
      margin-bottom: 10px;
    }
    .card-value {
      font-size: 26px;
      font-weight: 700;
    }
    .card.income .card-value {
      color: var(--success-color);
    }
    .card.expense .card-value {
      color: var(--danger-color);
    }
    .card.balance .card-value {
      color: var(--primary-color);
    }
    /* Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      padding: 12px 15px;
      text-align: right;
      border-bottom: 1px solid #ddd;
      transition: background-color var(--transition-speed);
      font-size: 14px;
    }
    th {
      background-color: #f8f9fa;
    }
    body.dark-mode th {
      background-color: #333;
    }
    .transaction-amount.income {
      color: var(--success-color);
    }
    .transaction-amount.expense {
      color: var(--danger-color);
    }
    .transaction-category {
      display: inline-block;
      padding: 5px 10px;
      border-radius: 20px;
      font-size: 12px;
      background-color: #f0f0f0;
    }
    /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª */
    .action-btn {
      border: none;
      padding: 5px 10px;
      margin-left: 5px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 12px;
      transition: background var(--transition-speed);
    }
    .edit-btn {
      background-color: #ffc107;
      color: white;
    }
    .delete-btn {
      background-color: #dc3545;
      color: white;
    }
    /* Ø®Ø§ØµÙŠØ© Ø§Ù„Ø¨Ø­Ø« */
    .search-container {
      margin-bottom: 15px;
      text-align: right;
    }
    .search-container input {
      padding: 8px 12px;
      width: 100%;
      max-width: 300px;
      border: 1px solid #ddd;
      border-radius: 5px;
    }
    /* Ø§Ù„Ù…ÙˆØ¯Ø§Ù„Ø§Øª */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      align-items: center;
      justify-content: center;
      z-index: 3000;
    }
    .modal-content {
      background-color: white;
      border-radius: 10px;
      padding: 30px;
      width: 400px;
      max-width: 90%;
      transition: background-color var(--transition-speed), color var(--transition-speed);
    }
    body.dark-mode .modal-content {
      background-color: #2c2c2c;
      color: #e0e0e0;
    }
    .modal-title {
      font-size: 20px;
      margin-bottom: 20px;
    }
    .form-group {
      margin-bottom: 15px;
    }
    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }
    input, select {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
      transition: border-color var(--transition-speed);
    }
    body.dark-mode input, body.dark-mode select {
      background-color: #444;
      border: 1px solid #666;
      color: #e0e0e0;
    }
    .modal-actions {
      display: flex;
      justify-content: flex-end;
      gap: 10px;
      margin-top: 20px;
    }
    .btn-cancel {
      background-color: #f8f9fa;
      color: var(--dark-color);
    }
    .btn-cancel:hover {
      background-color: #e9ecef;
    }
    /* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ù„Ù„Ù‡ÙˆØ§ØªÙ */
    @media (max-width: 576px) {
      header { padding: 15px 0; }
      .logo { font-size: 22px; }
      .user-info { gap: 8px; }
      .logout-btn, .dark-mode-btn { font-size: 16px; }
      .sidebar { padding: 15px; }
      .nav-item { padding: 10px 12px; font-size: 14px; }
      .main-content { padding: 15px; }
      th, td { padding: 10px 12px; font-size: 12px; }
      .search-container input { max-width: 100%; }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© -->
    <header>
      <div class="logo">ØªØ·Ø¨ÙŠÙ‚ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ</div>
      <div class="user-info">
        <span id="userGreeting">Ø£Ù‡Ù„Ø§Ù‹ØŒ </span>
        <div class="user-avatar" id="userAvatar"></div>
        <button class="logout-btn" id="logoutBtn" title="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬">â‹</button>
        <button class="dark-mode-btn" id="darkModeBtn" title="Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ">ğŸŒ™</button>
      </div>
    </header>
    
    <!-- Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ -->
    <div class="modal" id="registerModal">
      <div class="modal-content">
        <div class="modal-title">Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ø³Ø¬Ù„ Ø§Ø³Ù…Ùƒ Ù„Ù„Ø¨Ø¯Ø¡</div>
        <form id="registerForm">
          <div class="form-group">
            <label for="registerName">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
            <input type="text" id="registerName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ" required>
          </div>
          <div class="modal-actions">
            <button type="submit" class="btn btn-primary">ØªØ³Ø¬ÙŠÙ„</button>
          </div>
        </form>
      </div>
    </div>
    
    <!-- Ù…ÙˆØ¯Ø§Ù„ Ø¥Ø¶Ø§ÙØ©/ØªØ¹Ø¯ÙŠÙ„ Ù…Ø¹Ø§Ù…Ù„Ø© -->
    <div class="modal" id="transactionModal">
      <div class="modal-content">
        <div class="modal-title" id="transactionModalTitle">Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù…Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©</div>
        <form id="transactionForm">
          <div class="form-group">
            <label for="transactionType">Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©</label>
            <select id="transactionType">
              <option value="expense">Ù…ØµØ±ÙˆÙ</option>
              <option value="income">Ø¯Ø®Ù„</option>
            </select>
          </div>
          <div class="form-group">
            <label for="transactionAmount">Ø§Ù„Ù…Ø¨Ù„Øº</label>
            <input type="number" id="transactionAmount" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº" required>
          </div>
          <!-- Ø­Ù‚Ù„ Ø§Ù„Ø¹Ù…Ù„Ø© -->
          <div class="form-group">
            <label for="transactionCurrency">Ø§Ù„Ø¹Ù…Ù„Ø©</label>
            <select id="transactionCurrency">
              <option value="SAR">Ø±.Ø³</option>
              <option value="USD">$</option>
              <option value="EUR">â‚¬</option>
              <option value="GBP">Â£</option>
            </select>
          </div>
          <div class="form-group">
            <label for="transactionCategory">Ø§Ù„ÙØ¦Ø©</label>
            <select id="transactionCategory">
              <option value="food">Ø·Ø¹Ø§Ù…</option>
              <option value="transport">Ù…ÙˆØ§ØµÙ„Ø§Øª</option>
              <option value="shopping">ØªØ³ÙˆÙ‚</option>
              <option value="salary">Ø±Ø§ØªØ¨</option>
              <option value="other">Ø£Ø®Ø±Ù‰</option>
            </select>
          </div>
          <div class="form-group">
            <label for="transactionDescription">Ø§Ù„ÙˆØµÙ</label>
            <input type="text" id="transactionDescription" placeholder="Ø£Ø¯Ø®Ù„ ÙˆØµÙØ§Ù‹" required>
          </div>
          <div class="form-group">
            <label for="transactionDate">Ø§Ù„ØªØ§Ø±ÙŠØ®</label>
            <input type="date" id="transactionDate" required>
          </div>
          <div class="modal-actions">
            <button type="button" class="btn btn-cancel" id="cancelBtn">Ø¥Ù„ØºØ§Ø¡</button>
            <button type="submit" class="btn btn-primary" id="saveTransactionBtn">Ø­ÙØ¸</button>
          </div>
        </form>
      </div>
    </div>
    
    <!-- Ø¨Ø§Ù†Ø± Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù…Ù„Ø© (Ø¥Ø°Ø§ Ù„Ù… ØªÙˆØ¬Ø¯ Ù…Ø¹Ø§Ù…Ù„Ø§Øª) -->
    <div id="addTransactionBanner" class="add-transaction-banner" style="display:none;">
      <h2>Ø£Ø¶Ù Ù…Ø¹Ø§Ù…Ù„ØªÙƒ Ø§Ù„Ø¢Ù†</h2>
      <button id="bannerAddBtn">Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù…Ù„Ø©</button>
    </div>
    
    <div class="dashboard">
      <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ -->
      <div class="sidebar">
        <div class="nav-item active" data-target="dashboardPage">
          <i>ğŸ“Š</i>
          <span>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</span>
        </div>
        <div class="nav-item" data-target="transactionsPage">
          <i>ğŸ’°</i>
          <span>Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª</span>
        </div>
        <div class="nav-item" data-target="reportsPage">
          <i>ğŸ“ˆ</i>
          <span>Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</span>
        </div>
        <div class="nav-item" data-target="budgetPage">
          <i>ğŸ’¡</i>
          <span>Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©</span>
        </div>
        <div class="nav-item" data-target="settingsPage">
          <i>âš™ï¸</i>
          <span>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</span>
        </div>
      </div>
      
      <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
      <div class="main-content">
        <!-- ØµÙØ­Ø© Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
        <div id="dashboardPage" class="page active">
          <div id="noTransactionMessage" style="display:none; text-align:center; margin-bottom:20px; color:#777;">
            Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹. Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù…Ù„Ø©" Ù„Ø¨Ø¯Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ.
          </div>
          <div class="summary-cards">
            <div class="card income">
              <div class="card-title">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¯Ø®Ù„</div>
              <div class="card-value" id="incomeValue">0</div>
            </div>
            <div class="card expense">
              <div class="card-title">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª</div>
              <div class="card-value" id="expenseValue">0</div>
            </div>
            <div class="card balance">
              <div class="card-title">Ø§Ù„Ø±ØµÙŠØ¯</div>
              <div class="card-value" id="balanceValue">0</div>
            </div>
          </div>
          <div class="charts-container" style="display:grid; grid-template-columns:1fr 1fr; gap:20px; margin-bottom:20px;">
            <div class="chart-card" style="background-color:white; border-radius:10px; padding:20px; box-shadow:0 4px 8px rgba(0,0,0,0.1);">
              <div class="chart-title" style="font-size:18px; margin-bottom:20px; color:var(--dark-color);">Ù…ØµØ±ÙˆÙØ§Øª Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø©</div>
              <canvas id="expenseChart"></canvas>
            </div>
            <div class="chart-card" style="background-color:white; border-radius:10px; padding:20px; box-shadow:0 4px 8px rgba(0,0,0,0.1);">
              <div class="chart-title" style="font-size:18px; margin-bottom:20px; color:var(--dark-color);">ØªØªØ¨Ø¹ Ø§Ù„Ø¯Ø®Ù„ ÙˆØ§Ù„Ù…ØµØ±ÙˆÙØ§Øª</div>
              <canvas id="incomeExpenseChart"></canvas>
            </div>
          </div>
          <div class="transactions">
            <div class="transactions-header" style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
              <h2>Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª</h2>
              <button class="btn btn-primary" id="addTransactionBtn">Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù…Ù„Ø©</button>
            </div>
            <table>
              <thead>
                <tr>
                  <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                  <th>Ø§Ù„ÙˆØµÙ</th>
                  <th>Ø§Ù„ÙØ¦Ø©</th>
                  <th>Ø§Ù„Ù…Ø¨Ù„Øº</th>
                  <th>Ø§Ù„Ø¹Ù…Ù„Ø©</th>
                  <th>Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                </tr>
              </thead>
              <tbody id="transactionTableBody">
                <tr>
                  <td colspan="6" style="text-align:center; color:#777;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        
        <!-- ØµÙØ­Ø© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù…Ø¹ Ø¨Ø­Ø« -->
        <div id="transactionsPage" class="page">
          <h2>Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª</h2>
          <div class="search-container">
            <input type="text" id="searchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ø¹Ø§Ù…Ù„Ø©...">
          </div>
          <table>
            <thead>
              <tr>
                <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                <th>Ø§Ù„ÙˆØµÙ</th>
                <th>Ø§Ù„ÙØ¦Ø©</th>
                <th>Ø§Ù„Ù…Ø¨Ù„Øº</th>
                <th>Ø§Ù„Ø¹Ù…Ù„Ø©</th>
                <th>Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
              </tr>
            </thead>
            <tbody id="transactionTableBody2">
              <tr>
                <td colspan="6" style="text-align:center; color:#777;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</td>
              </tr>
            </tbody>
          </table>
        </div>
        
        <!-- ØµÙØ­Ø© Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± -->
        <div id="reportsPage" class="page">
          <h2>Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</h2>
          <p>Ø¹Ø±Ø¶ ØªØ­Ù„ÙŠÙ„Ø§Øª Ù…ÙØµÙ„Ø© Ù„Ù…ØµØ§Ø±ÙŠÙÙƒ ÙˆØ¯Ø®Ù„Ùƒ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ© ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©.</p>
          <div class="search-container">
            <input type="text" id="reportSearchInput" placeholder="Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±...">
          </div>
          <div id="reportsContent">
            <p>Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø¯Ø®Ù„Ø©.</p>
          </div>
        </div>
        
        <!-- ØµÙØ­Ø© Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© -->
        <div id="budgetPage" class="page">
          <h2>Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©</h2>
          <p>Ø­Ø¯Ø¯ Ù…ÙŠØ²Ø§Ù†ÙŠØªÙƒ Ø§Ù„Ø´Ù‡Ø±ÙŠØ© Ù„ÙƒÙ„ ÙØ¦Ø© ÙˆØ§Ø³ØªØ¹Ø±Ø¶ Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ø§Ù„Ø¥Ù†ÙØ§Ù‚ ÙˆØ§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©.</p>
          <form id="budgetForm">
            <div class="form-group">
              <label for="budgetFood">Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ø·Ø¹Ø§Ù…</label>
              <input type="number" id="budgetFood" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº">
            </div>
            <div class="form-group">
              <label for="budgetTransport">Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ù…ÙˆØ§ØµÙ„Ø§Øª</label>
              <input type="number" id="budgetTransport" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº">
            </div>
            <div class="form-group">
              <label for="budgetShopping">Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„ØªØ³ÙˆÙ‚</label>
              <input type="number" id="budgetShopping" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº">
            </div>
            <div class="form-group">
              <label for="budgetOther">Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø£Ø®Ø±Ù‰</label>
              <input type="number" id="budgetOther" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº">
            </div>
            <button type="submit" class="btn btn-primary">Ø­ÙØ¸ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©</button>
          </form>
          <div id="budgetSummary" style="margin-top:20px;"></div>
        </div>
        
        <!-- ØµÙØ­Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª -->
        <div id="settingsPage" class="page">
          <h2>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h2>
          <p>Ù‚Ù… Ø¨ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø³Ø§Ø¨ÙƒØŒ Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©ØŒ ÙˆØµØ¯Ù‘Ø± Ø£Ùˆ Ø§Ù…Ø³Ø­ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù‡Ù†Ø§.</p>
          <form id="settingsForm">
            <div class="form-group">
              <label for="newUserName">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
              <input type="text" id="newUserName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ">
            </div>
            <div class="form-group">
              <label for="defaultCurrency">Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©</label>
              <select id="defaultCurrency">
                <option value="SAR">Ø±.Ø³</option>
                <option value="USD">$</option>
                <option value="EUR">â‚¬</option>
                <option value="GBP">Â£</option>
              </select>
            </div>
            <button type="submit" class="btn btn-primary">Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
          </form>
          <button class="btn btn-primary" id="exportBtn" style="margin-top:20px;">ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (CSV)</button>
          <button class="btn btn-danger" id="clearAllBtn" style="margin-top:20px;">Ù…Ø³Ø­ ÙƒØ§ÙØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
        </div>
      </div>
    </div>
  </div>
  
  <script>
    // Ø£Ø³Ø¹Ø§Ø± ØµØ±Ù Ø«Ø§Ø¨ØªØ© Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª (ÙŠÙ…ÙƒÙ† Ø±Ø¨Ø·Ù‡Ø§ Ø¨ÙˆØ§Ø¬Ù‡Ø© API Ù„Ø§Ø­Ù‚Ø§Ù‹)
    const conversionRates = {
      SAR: 1,
      USD: 3.75,
      EUR: 4.0,
      GBP: 4.5
    };
    function convertToDefault(amount, currency) {
      const defaultCurrency = localStorage.getItem('defaultCurrency') || 'SAR';
      return amount * (conversionRates[currency] || 1) / (conversionRates[defaultCurrency] || 1);
    }
    
    let transactions = [];
    let budgets = {};
    
    // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ localStorage
    function getTransactions() {
      const data = localStorage.getItem('transactions');
      return data ? JSON.parse(data) : [];
    }
    function saveTransactions() {
      localStorage.setItem('transactions', JSON.stringify(transactions));
    }
    function getBudgets() {
      const data = localStorage.getItem('budgets');
      return data ? JSON.parse(data) : {};
    }
    function saveBudgets() {
      localStorage.setItem('budgets', JSON.stringify(budgets));
    }
    
    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ø®ØµØ§Øª
    function updateDashboard() {
      let income = 0, expense = 0;
      transactions.forEach(tx => {
        let convertedAmount = convertToDefault(Number(tx.amount), tx.currency);
        if(tx.type === 'income') income += convertedAmount;
        else expense += convertedAmount;
      });
      const balance = income - expense;
      const defaultCurrency = localStorage.getItem('defaultCurrency') || "Ø±.Ø³";
      document.getElementById('incomeValue').textContent = income.toFixed(2) + " " + defaultCurrency;
      document.getElementById('expenseValue').textContent = expense.toFixed(2) + " " + defaultCurrency;
      document.getElementById('balanceValue').textContent = balance.toFixed(2) + " " + defaultCurrency;
    }
    
    // ØªØ­Ø¯ÙŠØ« Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª
    function updateTransactionsTable() {
      const tableBody = document.getElementById('transactionTableBody');
      const tableBody2 = document.getElementById('transactionTableBody2');
      if(transactions.length === 0) {
        tableBody.innerHTML = `<tr><td colspan="6" style="text-align:center; color:#777;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</td></tr>`;
        tableBody2.innerHTML = `<tr><td colspan="6" style="text-align:center; color:#777;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</td></tr>`;
      } else {
        let html = '';
        transactions.sort((a,b) => new Date(b.date) - new Date(a.date)).forEach((tx, index) => {
          html += `<tr>
            <td>${new Date(tx.date).toLocaleDateString('ar-EG')}</td>
            <td>${tx.description}</td>
            <td><span class="transaction-category ${tx.category}">${tx.category}</span></td>
            <td class="transaction-amount ${tx.type}">${tx.type === 'income' ? '+' : '-'}${tx.amount}</td>
            <td>${tx.currency}</td>
            <td>
              <button class="action-btn edit-btn" onclick="editTransaction(${index})">ØªØ¹Ø¯ÙŠÙ„</button>
              <button class="action-btn delete-btn" onclick="deleteTransaction(${index})">Ø­Ø°Ù</button>
            </td>
          </tr>`;
        });
        tableBody.innerHTML = html;
        tableBody2.innerHTML = html;
      }
    }
    
    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©
    let expenseChart, incomeExpenseChart;
    function updateCharts() {
      const categoryTotals = {};
      transactions.forEach(tx => {
        if(tx.type === 'expense') {
          let convertedAmount = convertToDefault(Number(tx.amount), tx.currency);
          categoryTotals[tx.category] = (categoryTotals[tx.category] || 0) + convertedAmount;
        }
      });
      const expenseLabels = Object.keys(categoryTotals);
      const expenseData = Object.values(categoryTotals);
      if(expenseChart) {
        expenseChart.data.labels = expenseLabels.length ? expenseLabels : ['ØºÙŠØ± Ù…Ø­Ø¯Ø¯'];
        expenseChart.data.datasets[0].data = expenseData.length ? expenseData : [0];
        expenseChart.update();
      } else {
        const expenseCtx = document.getElementById('expenseChart').getContext('2d');
        expenseChart = new Chart(expenseCtx, {
          type: 'doughnut',
          data: {
            labels: expenseLabels.length ? expenseLabels : ['ØºÙŠØ± Ù…Ø­Ø¯Ø¯'],
            datasets: [{
              data: expenseData.length ? expenseData : [0],
              backgroundColor: ['#ffd166', '#118ab2', '#ef476f', '#06d6a0', '#073b4c'],
              borderWidth: 1
            }]
          },
          options: { responsive: true, plugins: { legend: { position: 'bottom' } } }
        });
      }
      
      const monthNames = ["ÙŠÙ†Ø§ÙŠØ±","ÙØ¨Ø±Ø§ÙŠØ±","Ù…Ø§Ø±Ø³","Ø£Ø¨Ø±ÙŠÙ„","Ù…Ø§ÙŠÙˆ","ÙŠÙˆÙ†ÙŠÙˆ","ÙŠÙˆÙ„ÙŠÙˆ","Ø£ØºØ³Ø·Ø³","Ø³Ø¨ØªÙ…Ø¨Ø±","Ø£ÙƒØªÙˆØ¨Ø±","Ù†ÙˆÙÙ…Ø¨Ø±","Ø¯ÙŠØ³Ù…Ø¨Ø±"];
      const monthlyIncome = Array(12).fill(0);
      const monthlyExpense = Array(12).fill(0);
      transactions.forEach(tx => {
        const month = new Date(tx.date).getMonth();
        let convertedAmount = convertToDefault(Number(tx.amount), tx.currency);
        if(tx.type === 'income') monthlyIncome[month] += convertedAmount;
        else monthlyExpense[month] += convertedAmount;
      });
      if(incomeExpenseChart) {
        incomeExpenseChart.data.labels = monthNames;
        incomeExpenseChart.data.datasets[0].data = monthlyIncome;
        incomeExpenseChart.data.datasets[1].data = monthlyExpense;
        incomeExpenseChart.update();
      } else {
        const incomeExpenseCtx = document.getElementById('incomeExpenseChart').getContext('2d');
        incomeExpenseChart = new Chart(incomeExpenseCtx, {
          type: 'bar',
          data: {
            labels: monthNames,
            datasets: [
              { label: 'Ø§Ù„Ø¯Ø®Ù„', data: monthlyIncome, backgroundColor: '#38b000' },
              { label: 'Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª', data: monthlyExpense, backgroundColor: '#ff006e' }
            ]
          },
          options: { responsive: true, scales: { x: { grid: { display: false } }, y: { beginAtZero: true } } }
        });
      }
    }
    
    // ØªØ­Ø¯ÙŠØ« Ø¨Ø§Ù†Ø± "Ø£Ø¶Ù Ù…Ø¹Ø§Ù…Ù„ØªÙƒ"
    function updateAddTransactionBanner() {
      const banner = document.getElementById('addTransactionBanner');
      banner.style.display = transactions.length === 0 ? 'block' : 'none';
    }
    
    // ØªØ­Ø¯ÙŠØ« ØµÙØ­Ø© Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©
    function updateBudgetSummary() {
      const summary = document.getElementById('budgetSummary');
      const categoryTotals = {};
      transactions.forEach(tx => {
        if(tx.type === 'expense') {
          categoryTotals[tx.category] = (categoryTotals[tx.category] || 0) + Number(tx.amount);
        }
      });
      let html = '<h3>Ù…Ù„Ø®Øµ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©</h3><ul>';
      for(const cat in budgets) {
        const budget = Number(budgets[cat]);
        const spent = Number(categoryTotals[cat] || 0);
        const diff = budget - spent;
        html += `<li>${cat}: Ù…ÙŠØ²Ø§Ù†ÙŠØ© ${budget} - Ù…ØµØ±ÙˆÙ ${spent} (${diff >= 0 ? 'Ù…ØªØ¨Ù‚ÙŠ ' + diff : 'Ø¹Ø¬Ø² ' + Math.abs(diff)})</li>`;
      }
      html += '</ul>';
      summary.innerHTML = html;
    }
    
    // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„
    function updateUI() {
      updateDashboard();
      updateTransactionsTable();
      updateCharts();
      updateAddTransactionBanner();
      updateBudgetSummary();
    }
    
    // ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    function updateUserInfo() {
      const userName = localStorage.getItem('userName');
      document.getElementById('userGreeting').textContent = "Ø£Ù‡Ù„Ø§Ù‹ØŒ " + userName;
      document.getElementById('userAvatar').textContent = userName.charAt(0).toUpperCase();
    }
    
    // ØªØµÙÙŠØ© Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª ÙÙŠ ØµÙØ­Ø© "Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª"
    function filterTransactions() {
      const query = document.getElementById('searchInput').value.toLowerCase();
      const rows = document.querySelectorAll('#transactionTableBody2 tr');
      rows.forEach(row => {
        row.style.display = row.innerText.toLowerCase().includes(query) ? '' : 'none';
      });
    }
    
    // Ø­Ø°Ù Ù…Ø¹Ø§Ù…Ù„Ø©
    function deleteTransaction(index) {
      if(confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©ØŸ")) {
        transactions.splice(index, 1);
        saveTransactions();
        updateUI();
      }
    }
    
    // ØªØ¹Ø¯ÙŠÙ„ Ù…Ø¹Ø§Ù…Ù„Ø©
    function editTransaction(index) {
      const tx = transactions[index];
      document.getElementById('transactionModalTitle').textContent = "ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©";
      document.getElementById('transactionType').value = tx.type;
      document.getElementById('transactionAmount').value = tx.amount;
      document.getElementById('transactionCurrency').value = tx.currency;
      document.getElementById('transactionCategory').value = tx.category;
      document.getElementById('transactionDescription').value = tx.description;
      document.getElementById('transactionDate').value = tx.date;
      document.getElementById('saveTransactionBtn').onclick = function(e) {
        e.preventDefault();
        tx.type = document.getElementById('transactionType').value;
        tx.amount = document.getElementById('transactionAmount').value;
        tx.currency = document.getElementById('transactionCurrency').value;
        tx.category = document.getElementById('transactionCategory').value;
        tx.description = document.getElementById('transactionDescription').value;
        tx.date = document.getElementById('transactionDate').value;
        saveTransactions();
        updateUI();
        document.getElementById('transactionModal').style.display = 'none';
        document.getElementById('saveTransactionBtn').onclick = null;
        document.getElementById('transactionModalTitle').textContent = "Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù…Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©";
        document.getElementById('transactionForm').reset();
        document.getElementById('transactionDate').valueAsDate = new Date();
      };
      document.getElementById('transactionModal').style.display = 'flex';
    }
    
    // ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ CSV
    function exportData() {
      let csv = "Ø§Ù„ØªØ§Ø±ÙŠØ®,Ø§Ù„ÙˆØµÙ,Ø§Ù„ÙØ¦Ø©,Ø§Ù„Ù…Ø¨Ù„Øº,Ø§Ù„Ø¹Ù…Ù„Ø©,Ø§Ù„Ù†ÙˆØ¹\n";
      transactions.forEach(tx => {
        csv += `${new Date(tx.date).toLocaleDateString('ar-EG')},${tx.description},${tx.category},${tx.amount},${tx.currency},${tx.type}\n`;
      });
      const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
      const link = document.createElement("a");
      link.setAttribute("href", URL.createObjectURL(blob));
      link.setAttribute("download", "transactions.csv");
      link.style.visibility = 'hidden';
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }
    
    // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ
    function toggleDarkMode() {
      document.body.classList.toggle('dark-mode');
    }
    
    document.addEventListener('DOMContentLoaded', function() {
      transactions = getTransactions();
      budgets = getBudgets();
      
      if (!localStorage.getItem('userName')) {
        document.getElementById('registerModal').style.display = 'flex';
      } else {
        updateUserInfo();
      }
      
      document.getElementById('transactionDate').valueAsDate = new Date();
      
      updateUI();
      
      // ØªÙ†Ù‚Ù„ Ø§Ù„ØµÙØ­Ø§Øª Ø¹Ø¨Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©
      const navItems = document.querySelectorAll('.nav-item');
      const pages = document.querySelectorAll('.page');
      navItems.forEach(item => {
        item.addEventListener('click', () => {
          navItems.forEach(i => i.classList.remove('active'));
          item.classList.add('active');
          const target = item.getAttribute('data-target');
          pages.forEach(page => {
            page.classList.remove('active');
            if (page.id === target) {
              page.classList.add('active');
            }
          });
        });
      });
      
      // Ø²Ø± "Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù…Ù„Ø©" Ù…Ù† Ø¨Ø§Ù†Ø± Ø§Ù„Ø¥Ø¶Ø§ÙØ©
      document.getElementById('bannerAddBtn').addEventListener('click', () => {
        document.getElementById('transactionModal').style.display = 'flex';
      });
      
      // Ù…ÙˆØ¯Ø§Ù„ Ø¥Ø¶Ø§ÙØ©/ØªØ¹Ø¯ÙŠÙ„ Ù…Ø¹Ø§Ù…Ù„Ø©
      const transactionModal = document.getElementById('transactionModal');
      const addTransactionBtn = document.getElementById('addTransactionBtn');
      const cancelBtn = document.getElementById('cancelBtn');
      addTransactionBtn.addEventListener('click', () => {
        document.getElementById('transactionModalTitle').textContent = "Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù…Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©";
        document.getElementById('transactionForm').reset();
        document.getElementById('transactionDate').valueAsDate = new Date();
        transactionModal.style.display = 'flex';
      });
      cancelBtn.addEventListener('click', () => {
        transactionModal.style.display = 'none';
      });
      window.addEventListener('click', (e) => {
        if (e.target === transactionModal) {
          transactionModal.style.display = 'none';
        }
        if (e.target === document.getElementById('registerModal')) {
          e.stopPropagation();
        }
      });
      
      // Ø­ÙØ¸ Ù…Ø¹Ø§Ù…Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø© Ø£Ùˆ ØªØ­Ø¯ÙŠØ«Ù‡Ø§
      document.getElementById('transactionForm').addEventListener('submit', function(e) {
        e.preventDefault();
        if(!document.getElementById('saveTransactionBtn').onclick){
          const type = document.getElementById('transactionType').value;
          const amount = document.getElementById('transactionAmount').value;
          const currency = document.getElementById('transactionCurrency').value;
          const category = document.getElementById('transactionCategory').value;
          const description = document.getElementById('transactionDescription').value;
          const date = document.getElementById('transactionDate').value;
          const newTransaction = { type, amount, currency, category, description, date };
          transactions.push(newTransaction);
        }
        saveTransactions();
        updateUI();
        transactionModal.style.display = 'none';
        this.reset();
        document.getElementById('transactionDate').valueAsDate = new Date();
      });
      
      // Ù†Ù…ÙˆØ°Ø¬ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
      document.getElementById('registerForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const name = document.getElementById('registerName').value.trim();
        if(name) {
          localStorage.setItem('userName', name);
          updateUserInfo();
          document.getElementById('registerModal').style.display = 'none';
        }
      });
      
      // Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù„ØªØ­Ø¯ÙŠØ« Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
      document.getElementById('settingsForm')?.addEventListener('submit', function(e) {
        e.preventDefault();
        const newName = document.getElementById('newUserName').value.trim();
        const defaultCurrency = document.getElementById('defaultCurrency').value;
        if(newName) {
          localStorage.setItem('userName', newName);
        }
        localStorage.setItem('defaultCurrency', defaultCurrency);
        updateUserInfo();
        alert('ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª!');
      });
      
      // Ø­ÙØ¸ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©
      document.getElementById('budgetForm').addEventListener('submit', function(e) {
        e.preventDefault();
        budgets = {
          food: document.getElementById('budgetFood').value,
          transport: document.getElementById('budgetTransport').value,
          shopping: document.getElementById('budgetShopping').value,
          other: document.getElementById('budgetOther').value
        };
        saveBudgets();
        updateBudgetSummary();
        alert('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©!');
      });
      
      // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ ØµÙØ­Ø© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª
      document.getElementById('searchInput')?.addEventListener('input', filterTransactions);
      
      // Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
      document.getElementById('logoutBtn').addEventListener('click', () => {
        if(confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ")) {
          localStorage.removeItem('userName');
          location.reload();
        }
      });
      
      // Ø²Ø± ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ
      document.getElementById('darkModeBtn').addEventListener('click', toggleDarkMode);
      
      // Ø²Ø± ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
      document.getElementById('exportBtn').addEventListener('click', exportData);
      
      // Ø²Ø± Ù…Ø³Ø­ ÙƒØ§ÙØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
      document.getElementById('clearAllBtn').addEventListener('click', () => {
        if(confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ø³Ø­ ÙƒØ§ÙØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ")) {
          localStorage.clear();
          location.reload();
        }
      });
    });
  </script>
</body>
</html>
